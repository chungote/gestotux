<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>gestotux: Fichero Fuente Programas/gestotux/src/formpreferencias.cpp</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generado por Doxygen 1.5.5 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Página&nbsp;principal</span></a></li>
      <li><a href="classes.html"><span>Clases</span></a></li>
      <li class="current"><a href="files.html"><span>Archivos</span></a></li>
      <li><a href="dirs.html"><span>Directorios</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="dir_3428b703a189aec17ca52f0fb825cd3f.html">Programas</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_b1a546a748a62f1bda915a377e9774c0.html">gestotux</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_a6a96f4101e30ef9cb693fc53f8c1212.html">src</a>
  </div>
</div>
</div>
<h1>formpreferencias.cpp</h1><a href="formpreferencias_8cpp.html">Ir a la documentación de este archivo.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/***************************************************************************</span>
<a name="l00002"></a>00002 <span class="comment"> *   Copyright (C) 2007 by Esteban Zeller   *</span>
<a name="l00003"></a>00003 <span class="comment"> *   juiraze@yahoo.com.ar   *</span>
<a name="l00004"></a>00004 <span class="comment"> *                                                                         *</span>
<a name="l00005"></a>00005 <span class="comment"> *   This program is free software; you can redistribute it and/or modify  *</span>
<a name="l00006"></a>00006 <span class="comment"> *   it under the terms of the GNU General Public License as published by  *</span>
<a name="l00007"></a>00007 <span class="comment"> *   the Free Software Foundation; either version 2 of the License, or     *</span>
<a name="l00008"></a>00008 <span class="comment"> *   (at your option) any later version.                                   *</span>
<a name="l00009"></a>00009 <span class="comment"> *                                                                         *</span>
<a name="l00010"></a>00010 <span class="comment"> *   This program is distributed in the hope that it will be useful,       *</span>
<a name="l00011"></a>00011 <span class="comment"> *   but WITHOUT ANY WARRANTY; without even the implied warranty of        *</span>
<a name="l00012"></a>00012 <span class="comment"> *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the         *</span>
<a name="l00013"></a>00013 <span class="comment"> *   GNU General Public License for more details.                          *</span>
<a name="l00014"></a>00014 <span class="comment"> *                                                                         *</span>
<a name="l00015"></a>00015 <span class="comment"> *   You should have received a copy of the GNU General Public License     *</span>
<a name="l00016"></a>00016 <span class="comment"> *   along with this program; if not, write to the                         *</span>
<a name="l00017"></a>00017 <span class="comment"> *   Free Software Foundation, Inc.,                                       *</span>
<a name="l00018"></a>00018 <span class="comment"> *   59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.             *</span>
<a name="l00019"></a>00019 <span class="comment"> ***************************************************************************/</span>
<a name="l00020"></a>00020 <span class="preprocessor">#include "<a class="code" href="formpreferencias_8h.html">formpreferencias.h</a>"</span>
<a name="l00021"></a>00021 <span class="preprocessor">#include "<a class="code" href="eplugin_8h.html">eplugin.h</a>"</span>
<a name="l00022"></a>00022 
<a name="l00023"></a>00023 <span class="preprocessor">#include &lt;QListWidget&gt;</span>
<a name="l00024"></a>00024 <span class="preprocessor">#include &lt;QStackedWidget&gt;</span>
<a name="l00025"></a>00025 <span class="preprocessor">#include &lt;QPushButton&gt;</span>
<a name="l00026"></a>00026 <span class="preprocessor">#include &lt;QHBoxLayout&gt;</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include &lt;QAction&gt;</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include &lt;QSplitter&gt;</span>
<a name="l00029"></a>00029 
<a name="l00030"></a>00030 <span class="preprocessor">#include "<a class="code" href="preferencias_8h.html">preferencias.h</a>"</span>
<a name="l00031"></a>00031 <span class="preprocessor">#include "<a class="code" href="formprefhijo_8h.html">formprefhijo.h</a>"</span>
<a name="l00032"></a>00032 <span class="preprocessor">#include "<a class="code" href="fprefgeneral_8h.html">fprefgeneral.h</a>"</span>
<a name="l00033"></a>00033 <span class="preprocessor">#include "<a class="code" href="formprefdb_8h.html">formprefdb.h</a>"</span>
<a name="l00034"></a>00034 <span class="preprocessor">#include "<a class="code" href="gestotux_8h.html">gestotux.h</a>"</span>
<a name="l00035"></a>00035 <span class="preprocessor">#include "<a class="code" href="einfoprogramainterface_8h.html">einfoprogramainterface.h</a>"</span>
<a name="l00036"></a>00036 
<a name="l00037"></a><a class="code" href="classFormPreferencias.html#b4e8295828c722a55ac4293b3d37717d">00037</a> <a class="code" href="classFormPreferencias.html#b4e8295828c722a55ac4293b3d37717d">FormPreferencias::FormPreferencias</a>(QWidget *parent)
<a name="l00038"></a>00038  : <a class="code" href="classEVentana.html" title="Ventana base de todas las ventanas.">EVentana</a>(parent)
<a name="l00039"></a>00039 {
<a name="l00040"></a>00040     setObjectName( <span class="stringliteral">"Preferencias"</span> );
<a name="l00041"></a>00041     this-&gt;setAttribute( Qt::WA_DeleteOnClose );
<a name="l00042"></a>00042     <a class="code" href="classFormPreferencias.html#87fe9940d9a88cee05ba4cce32660430">contentsWidget</a> = <span class="keyword">new</span> QListWidget;
<a name="l00043"></a>00043     <a class="code" href="classFormPreferencias.html#87fe9940d9a88cee05ba4cce32660430">contentsWidget</a>-&gt;setViewMode(QListView::IconMode);
<a name="l00044"></a>00044     <a class="code" href="classFormPreferencias.html#87fe9940d9a88cee05ba4cce32660430">contentsWidget</a>-&gt;setIconSize(QSize(96, 84));
<a name="l00045"></a>00045     <a class="code" href="classFormPreferencias.html#87fe9940d9a88cee05ba4cce32660430">contentsWidget</a>-&gt;setMovement(QListView::Static);
<a name="l00046"></a>00046     <a class="code" href="classFormPreferencias.html#87fe9940d9a88cee05ba4cce32660430">contentsWidget</a>-&gt;setMaximumWidth(128);
<a name="l00047"></a>00047     <a class="code" href="classFormPreferencias.html#87fe9940d9a88cee05ba4cce32660430">contentsWidget</a>-&gt;setSpacing(12);
<a name="l00048"></a>00048     <a class="code" href="classFormPreferencias.html#87fe9940d9a88cee05ba4cce32660430">contentsWidget</a>-&gt;sizePolicy().setVerticalPolicy( QSizePolicy::MinimumExpanding );
<a name="l00049"></a>00049 
<a name="l00050"></a>00050     <a class="code" href="classFormPreferencias.html#53679befa04c45f9245bb3dcebbef276">pagesWidget</a> = <span class="keyword">new</span> QStackedWidget;
<a name="l00051"></a>00051     QListWidgetItem *configButton = <span class="keyword">new</span> QListWidgetItem( <a class="code" href="classFormPreferencias.html#87fe9940d9a88cee05ba4cce32660430">contentsWidget</a> );
<a name="l00052"></a>00052     configButton-&gt;setIcon( QIcon( <span class="stringliteral">":/imagenes/general.png"</span> ) );
<a name="l00053"></a>00053     configButton-&gt;setText( <span class="stringliteral">"Estilo"</span> );
<a name="l00054"></a>00054     configButton-&gt;setTextAlignment( Qt::AlignHCenter );
<a name="l00055"></a>00055     configButton-&gt;setFlags( Qt::ItemIsSelectable | Qt::ItemIsEnabled );
<a name="l00058"></a>00058      <a class="code" href="classFPrefGeneral.html" title="Clase que maneja las preferencias de estilo e inicializacion.">FPrefGeneral</a> *formGeneral = <span class="keyword">new</span> <a class="code" href="classFPrefGeneral.html" title="Clase que maneja las preferencias de estilo e inicializacion.">FPrefGeneral</a>( <span class="keyword">this</span> );
<a name="l00059"></a>00059      connect( <span class="keyword">this</span>, SIGNAL( <a class="code" href="classFormPreferencias.html#98cc2f9f46c073ba6208a8f92df18662">aplicar</a>() ), formGeneral, SLOT( <a class="code" href="classFormPreferencias.html#98cc2f9f46c073ba6208a8f92df18662">aplicar</a>() ) );
<a name="l00060"></a>00060      connect( <span class="keyword">this</span>, SIGNAL( <a class="code" href="classFormPreferencias.html#efc8131a4dda81c9df7e233a669ad0b7">cargar</a>() ), formGeneral, SLOT( <a class="code" href="classFormPreferencias.html#efc8131a4dda81c9df7e233a669ad0b7">cargar</a>() ) );
<a name="l00061"></a>00061      connect( <span class="keyword">this</span>, SIGNAL( <a class="code" href="classFormPreferencias.html#a1ba4a1ef532dd47e3b9d8074f2529aa">guardar</a>() ), formGeneral, SLOT( <a class="code" href="classFormPreferencias.html#a1ba4a1ef532dd47e3b9d8074f2529aa">guardar</a>() ) );
<a name="l00062"></a>00062      <a class="code" href="classFormPreferencias.html#53679befa04c45f9245bb3dcebbef276">pagesWidget</a>-&gt;addWidget( formGeneral );
<a name="l00063"></a>00063      <a class="code" href="classpreferencias.html" title="Almacen de preferencias.">preferencias</a> *p = <a class="code" href="classpreferencias.html#922b107fda4a85350dd1f694b9bb40e3">preferencias::getInstancia</a>();
<a name="l00064"></a>00064      <span class="keywordflow">if</span>( p-&gt;value( <span class="stringliteral">"Preferencias/General/mostrardb"</span>, <span class="keyword">true</span> ).toBool() )
<a name="l00065"></a>00065      {
<a name="l00066"></a>00066         QListWidgetItem *db = <span class="keyword">new</span> QListWidgetItem( <a class="code" href="classFormPreferencias.html#87fe9940d9a88cee05ba4cce32660430">contentsWidget</a> );
<a name="l00067"></a>00067         db-&gt;setIcon( QIcon( <span class="stringliteral">":/imagenes/dbconfig.png"</span> ) );
<a name="l00068"></a>00068         db-&gt;setText( <span class="stringliteral">"Base de datos"</span> );
<a name="l00069"></a>00069         db-&gt;setTextAlignment( Qt::AlignHCenter );
<a name="l00070"></a>00070         db-&gt;setFlags( Qt::ItemIsSelectable | Qt::ItemIsEnabled );
<a name="l00071"></a>00071         <a class="code" href="classFormPrefDb.html" title="Formulario de preferencias de base de datos.">FormPrefDb</a> *formDb = <span class="keyword">new</span> <a class="code" href="classFormPrefDb.html" title="Formulario de preferencias de base de datos.">FormPrefDb</a>( <span class="keyword">this</span> );
<a name="l00072"></a>00072         connect( <span class="keyword">this</span>, SIGNAL( <a class="code" href="classFormPreferencias.html#98cc2f9f46c073ba6208a8f92df18662">aplicar</a>() ), formDb, SLOT( <a class="code" href="classFormPreferencias.html#98cc2f9f46c073ba6208a8f92df18662">aplicar</a>() ) );
<a name="l00073"></a>00073         connect( <span class="keyword">this</span>, SIGNAL( <a class="code" href="classFormPreferencias.html#efc8131a4dda81c9df7e233a669ad0b7">cargar</a>() ), formDb, SLOT( <a class="code" href="classFormPreferencias.html#efc8131a4dda81c9df7e233a669ad0b7">cargar</a>() ) );
<a name="l00074"></a>00074         connect( <span class="keyword">this</span>, SIGNAL( <a class="code" href="classFormPreferencias.html#a1ba4a1ef532dd47e3b9d8074f2529aa">guardar</a>() ), formDb, SLOT( <a class="code" href="classFormPreferencias.html#a1ba4a1ef532dd47e3b9d8074f2529aa">guardar</a>() ) );
<a name="l00075"></a>00075         <a class="code" href="classFormPreferencias.html#53679befa04c45f9245bb3dcebbef276">pagesWidget</a>-&gt;addWidget( formDb );
<a name="l00076"></a>00076      }
<a name="l00078"></a>00078      <a class="code" href="classEPlugin.html" title="Interface de plugin en general.">EPlugin</a> *plugin;
<a name="l00079"></a>00079      <span class="keywordflow">foreach</span>( plugin, <a class="code" href="classgestotux.html#a1a4eb97cce79771449a65c5cef21f00">gestotux::plugins</a>() )
<a name="l00080"></a>00080      {
<a name="l00081"></a>00081         qDebug( QString( <span class="stringliteral">"Plugin: %1"</span> ).arg( plugin-&gt;<a class="code" href="classEPlugin.html#41d32de81d0b0a713df5f6fd8ce56f19">nombre</a>() ).toLocal8Bit() );
<a name="l00082"></a>00082         <span class="keywordflow">if</span>( !plugin-&gt;<a class="code" href="classEPlugin.html#aaec39de5629223f5f5c8647322eb63f">formsPreferencias</a>().isEmpty() )
<a name="l00083"></a>00083         {
<a name="l00084"></a>00084                 QWidget *form;
<a name="l00085"></a>00085                 <span class="keywordflow">foreach</span>( form, plugin-&gt;<a class="code" href="classEPlugin.html#aaec39de5629223f5f5c8647322eb63f">formsPreferencias</a>() )
<a name="l00086"></a>00086                 {
<a name="l00087"></a>00087                         <span class="comment">// agrego el item a la lista</span>
<a name="l00088"></a>00088                         QListWidgetItem *opciones = <span class="keyword">new</span> QListWidgetItem( <a class="code" href="classFormPreferencias.html#87fe9940d9a88cee05ba4cce32660430">contentsWidget</a> );
<a name="l00089"></a>00089                         opciones-&gt;setIcon( form-&gt;windowIcon() );
<a name="l00090"></a>00090                         opciones-&gt;setText( form-&gt;windowTitle() );
<a name="l00091"></a>00091                         opciones-&gt;setTextAlignment( Qt::AlignHCenter );
<a name="l00092"></a>00092                         opciones-&gt;setFlags( Qt::ItemIsSelectable | Qt::ItemIsEnabled );
<a name="l00093"></a>00093                         <a class="code" href="classFormPreferencias.html#87fe9940d9a88cee05ba4cce32660430">contentsWidget</a>-&gt;addItem( opciones );
<a name="l00094"></a>00094                         <span class="comment">// Agrego el formulario</span>
<a name="l00095"></a>00095                         <a class="code" href="classFormPreferencias.html#53679befa04c45f9245bb3dcebbef276">pagesWidget</a>-&gt;addWidget( form );
<a name="l00096"></a>00096                         connect( <span class="keyword">this</span>, SIGNAL( <a class="code" href="classFormPreferencias.html#a1ba4a1ef532dd47e3b9d8074f2529aa">guardar</a>() ), form, SLOT( <a class="code" href="classFormPreferencias.html#a1ba4a1ef532dd47e3b9d8074f2529aa">guardar</a>() ) );
<a name="l00097"></a>00097                         connect( <span class="keyword">this</span>, SIGNAL( <a class="code" href="classFormPreferencias.html#efc8131a4dda81c9df7e233a669ad0b7">cargar</a>() ), form, SLOT( <a class="code" href="classFormPreferencias.html#efc8131a4dda81c9df7e233a669ad0b7">cargar</a>() ) );
<a name="l00098"></a>00098                         connect( <span class="keyword">this</span>, SIGNAL( <a class="code" href="classFormPreferencias.html#98cc2f9f46c073ba6208a8f92df18662">aplicar</a>() ), form, SLOT( <a class="code" href="classFormPreferencias.html#98cc2f9f46c073ba6208a8f92df18662">aplicar</a>() ) );
<a name="l00099"></a>00099                 }
<a name="l00100"></a>00100         }
<a name="l00101"></a>00101      }
<a name="l00102"></a>00102     <span class="comment">// seteo el tama�o de los iconos</span>
<a name="l00103"></a>00103     <a class="code" href="classFormPreferencias.html#87fe9940d9a88cee05ba4cce32660430">contentsWidget</a>-&gt;setIconSize( QSize( 32, 32 ) );
<a name="l00104"></a>00104     <a class="code" href="classFormPreferencias.html#87fe9940d9a88cee05ba4cce32660430">contentsWidget</a>-&gt;setUniformItemSizes( <span class="keyword">true</span> );
<a name="l00105"></a>00105 
<a name="l00106"></a>00106     <a class="code" href="classFormPreferencias.html#1242ac1fa06da0162f4b4a3174114106">ActCerrar</a>  = <span class="keyword">new</span> QAction( <span class="stringliteral">"Cerrar"</span>, <span class="keyword">this</span> );
<a name="l00107"></a>00107     <a class="code" href="classFormPreferencias.html#1242ac1fa06da0162f4b4a3174114106">ActCerrar</a>-&gt;setShortcut( QKeySequence( <span class="stringliteral">"Ctrl+c"</span> ) );
<a name="l00108"></a>00108     <a class="code" href="classFormPreferencias.html#1242ac1fa06da0162f4b4a3174114106">ActCerrar</a>-&gt;setIcon( QIcon( <span class="stringliteral">":/imagenes/fileclose.png"</span> ) );
<a name="l00109"></a>00109     <a class="code" href="classFormPreferencias.html#1242ac1fa06da0162f4b4a3174114106">ActCerrar</a>-&gt;setToolTip( <span class="stringliteral">"Cierra la ventana de preferencias ( Ctrl + c )"</span> );
<a name="l00110"></a>00110     <a class="code" href="classFormPreferencias.html#1242ac1fa06da0162f4b4a3174114106">ActCerrar</a>-&gt;setStatusTip( <span class="stringliteral">"Cierra la ventana de preferencias, pero no modifica ningun valor"</span> );
<a name="l00111"></a>00111     connect( <a class="code" href="classFormPreferencias.html#1242ac1fa06da0162f4b4a3174114106">ActCerrar</a>, SIGNAL( triggered() ), <span class="keyword">this</span>, SLOT( <a class="code" href="classFormPreferencias.html#93baeeec2fa133c19f233cda377a8f11">cancelar</a>()) );
<a name="l00112"></a>00112 
<a name="l00113"></a>00113     <a class="code" href="classFormPreferencias.html#b940885f092e1ca2263a00613bc8cecd">ActAplicar</a> = <span class="keyword">new</span> QAction( <span class="stringliteral">"Ap&amp;licar"</span>, <span class="keyword">this</span> );
<a name="l00114"></a>00114     <a class="code" href="classFormPreferencias.html#b940885f092e1ca2263a00613bc8cecd">ActAplicar</a>-&gt;setShortcut( QKeySequence( <span class="stringliteral">"Ctrl+l"</span> ) );
<a name="l00115"></a>00115     <a class="code" href="classFormPreferencias.html#b940885f092e1ca2263a00613bc8cecd">ActAplicar</a>-&gt;setIcon( QIcon( <span class="stringliteral">":/imagenes/aplicar.png"</span> ) );
<a name="l00116"></a>00116     <a class="code" href="classFormPreferencias.html#b940885f092e1ca2263a00613bc8cecd">ActAplicar</a>-&gt;setToolTip( <span class="stringliteral">"Aplica los cambios realizados ( Ctrl + l )"</span> );
<a name="l00117"></a>00117     <a class="code" href="classFormPreferencias.html#b940885f092e1ca2263a00613bc8cecd">ActAplicar</a>-&gt;setStatusTip( <span class="stringliteral">"Aplica los cambios realizados a la configuracion"</span> );
<a name="l00118"></a>00118     connect( <a class="code" href="classFormPreferencias.html#b940885f092e1ca2263a00613bc8cecd">ActAplicar</a>, SIGNAL( triggered() ), <span class="keyword">this</span>, SIGNAL( <a class="code" href="classFormPreferencias.html#98cc2f9f46c073ba6208a8f92df18662">aplicar</a>() ) );
<a name="l00119"></a>00119 
<a name="l00120"></a>00120     <a class="code" href="classFormPreferencias.html#073ee670982385526028fc935f1e12bb">ActGuardar</a> = <span class="keyword">new</span> QAction( <span class="stringliteral">"&amp;Guardar"</span>, <span class="keyword">this</span>  );
<a name="l00121"></a>00121     <a class="code" href="classFormPreferencias.html#073ee670982385526028fc935f1e12bb">ActGuardar</a>-&gt;setShortcut( QKeySequence( <span class="stringliteral">"Ctrl+g"</span> ) );
<a name="l00122"></a>00122     <a class="code" href="classFormPreferencias.html#073ee670982385526028fc935f1e12bb">ActGuardar</a>-&gt;setIcon( QIcon( <span class="stringliteral">":/imagenes/guardar.png"</span> ) );
<a name="l00123"></a>00123     <a class="code" href="classFormPreferencias.html#073ee670982385526028fc935f1e12bb">ActGuardar</a>-&gt;setStatusTip( <span class="stringliteral">"Guarda la preferencias y cierra la ventana"</span> );
<a name="l00124"></a>00124     <a class="code" href="classFormPreferencias.html#073ee670982385526028fc935f1e12bb">ActGuardar</a>-&gt;setToolTip( <span class="stringliteral">"Guarda las preferencias y cierra la ventana ( Ctrl + g )"</span> );
<a name="l00125"></a>00125     connect( <a class="code" href="classFormPreferencias.html#073ee670982385526028fc935f1e12bb">ActGuardar</a>, SIGNAL( triggered() ), <span class="keyword">this</span>, SIGNAL( <a class="code" href="classFormPreferencias.html#a1ba4a1ef532dd47e3b9d8074f2529aa">guardar</a>() ) );
<a name="l00126"></a>00126     connect( <a class="code" href="classFormPreferencias.html#073ee670982385526028fc935f1e12bb">ActGuardar</a>, SIGNAL( triggered() ), <span class="keyword">this</span>, SIGNAL( <a class="code" href="classFormPreferencias.html#837d0aab1fdbad44e41ec962cb6bde02">cerrar</a>() ) );
<a name="l00127"></a>00127 
<a name="l00128"></a>00128     addAction( <a class="code" href="classFormPreferencias.html#073ee670982385526028fc935f1e12bb">ActGuardar</a> );
<a name="l00129"></a>00129     addAction( <a class="code" href="classFormPreferencias.html#b940885f092e1ca2263a00613bc8cecd">ActAplicar</a> );
<a name="l00130"></a>00130     addAction( <a class="code" href="classFormPreferencias.html#1242ac1fa06da0162f4b4a3174114106">ActCerrar</a> );
<a name="l00131"></a>00131 
<a name="l00132"></a>00132     setObjectName( <span class="stringliteral">"Configuracion"</span> );
<a name="l00133"></a>00133     setWindowTitle( <span class="stringliteral">"Configuracion de "</span> + <a class="code" href="classgestotux.html#f1f98a1d6fedaace35fe123622d94fc8">gestotux::pluginInfo</a>()-&gt;nombrePrograma() );
<a name="l00134"></a>00134 
<a name="l00135"></a>00135     <a class="code" href="classFormPreferencias.html#87fe9940d9a88cee05ba4cce32660430">contentsWidget</a>-&gt;setCurrentRow(0);
<a name="l00136"></a>00136 
<a name="l00137"></a>00137     <a class="code" href="classFormPreferencias.html#f6f63741fb671c2aea7928c2a905cdb1">Splitter</a> = <span class="keyword">new</span> QSplitter;
<a name="l00138"></a>00138     <a class="code" href="classFormPreferencias.html#f6f63741fb671c2aea7928c2a905cdb1">Splitter</a>-&gt;addWidget(<a class="code" href="classFormPreferencias.html#87fe9940d9a88cee05ba4cce32660430">contentsWidget</a>);
<a name="l00139"></a>00139     <a class="code" href="classFormPreferencias.html#f6f63741fb671c2aea7928c2a905cdb1">Splitter</a>-&gt;addWidget(<a class="code" href="classFormPreferencias.html#53679befa04c45f9245bb3dcebbef276">pagesWidget</a>);
<a name="l00140"></a>00140     <a class="code" href="classFormPreferencias.html#f6f63741fb671c2aea7928c2a905cdb1">Splitter</a>-&gt;setCollapsible( 0, <span class="keyword">false</span> );
<a name="l00141"></a>00141     <a class="code" href="classFormPreferencias.html#f6f63741fb671c2aea7928c2a905cdb1">Splitter</a>-&gt;setCollapsible( 1, <span class="keyword">false</span> );
<a name="l00142"></a>00142 
<a name="l00143"></a>00143     QGridLayout *gl = <span class="keyword">new</span> QGridLayout( <span class="keyword">this</span> );
<a name="l00144"></a>00144     gl-&gt;addWidget( <a class="code" href="classFormPreferencias.html#f6f63741fb671c2aea7928c2a905cdb1">Splitter</a> );
<a name="l00145"></a>00145     setLayout(gl);
<a name="l00146"></a>00146 
<a name="l00147"></a>00147     connect(<a class="code" href="classFormPreferencias.html#87fe9940d9a88cee05ba4cce32660430">contentsWidget</a>, SIGNAL(currentItemChanged(QListWidgetItem *, QListWidgetItem *)),
<a name="l00148"></a>00148             <span class="keyword">this</span>, SLOT(<a class="code" href="classFormPreferencias.html#a966bf34e0c875252dce5a4332d78374">changePage</a>(QListWidgetItem *, QListWidgetItem*)));
<a name="l00149"></a>00149 
<a name="l00150"></a>00150         connect( <span class="keyword">this</span>, SIGNAL( <a class="code" href="classFormPreferencias.html#a1ba4a1ef532dd47e3b9d8074f2529aa">guardar</a>() ), <span class="keyword">this</span>, SIGNAL( <a class="code" href="classFormPreferencias.html#98cc2f9f46c073ba6208a8f92df18662">aplicar</a>() ) );
<a name="l00151"></a>00151 
<a name="l00152"></a>00152         <span class="comment">// Cargo la ultima pos de el spliter</span>
<a name="l00153"></a>00153         p-&gt;beginGroup( <span class="stringliteral">"Ventanas"</span> );
<a name="l00154"></a>00154         p-&gt;beginGroup( <span class="stringliteral">"Preferencias"</span> );
<a name="l00155"></a>00155         <a class="code" href="classFormPreferencias.html#f6f63741fb671c2aea7928c2a905cdb1">Splitter</a>-&gt;restoreState( p-&gt;value( <span class="stringliteral">"spliter"</span>, QByteArray() ).toByteArray() );
<a name="l00156"></a>00156         p-&gt;endGroup();
<a name="l00157"></a>00157         p-&gt;endGroup();
<a name="l00158"></a>00158 
<a name="l00159"></a>00159         <span class="comment">// Cargo las preferencias</span>
<a name="l00160"></a>00160         emit <a class="code" href="classFormPreferencias.html#efc8131a4dda81c9df7e233a669ad0b7">cargar</a>();
<a name="l00161"></a>00161 }
<a name="l00162"></a>00162 
<a name="l00163"></a>00163 
<a name="l00164"></a><a class="code" href="classFormPreferencias.html#96ab0af6fcc4d3debb35188aa3c28ba4">00164</a> <a class="code" href="classFormPreferencias.html#96ab0af6fcc4d3debb35188aa3c28ba4">FormPreferencias::~FormPreferencias</a>()
<a name="l00165"></a>00165 {
<a name="l00166"></a>00166         <a class="code" href="classpreferencias.html" title="Almacen de preferencias.">preferencias</a> *p = <a class="code" href="classpreferencias.html#922b107fda4a85350dd1f694b9bb40e3">preferencias::getInstancia</a>();
<a name="l00167"></a>00167         p-&gt;<a class="code" href="classpreferencias.html#88f468add780b544f0728e85fa6a0747">inicio</a>();
<a name="l00168"></a>00168         p-&gt;beginGroup( <span class="stringliteral">"Ventanas"</span> );
<a name="l00169"></a>00169         p-&gt;beginGroup( <span class="stringliteral">"Preferencias"</span> );
<a name="l00170"></a>00170         p-&gt;setValue( <span class="stringliteral">"spliter"</span>, <a class="code" href="classFormPreferencias.html#f6f63741fb671c2aea7928c2a905cdb1">Splitter</a>-&gt;saveState() );
<a name="l00171"></a>00171         p-&gt;endGroup();
<a name="l00172"></a>00172         p-&gt;endGroup();
<a name="l00173"></a>00173 }
<a name="l00174"></a>00174 
<a name="l00175"></a>00175 
<a name="l00182"></a><a class="code" href="classFormPreferencias.html#a966bf34e0c875252dce5a4332d78374">00182</a> <span class="keywordtype">void</span> <a class="code" href="classFormPreferencias.html#a966bf34e0c875252dce5a4332d78374">FormPreferencias::changePage</a>(QListWidgetItem *current, QListWidgetItem *previous)
<a name="l00183"></a>00183 {
<a name="l00184"></a>00184     <span class="keywordflow">if</span> (!current)
<a name="l00185"></a>00185         current = previous;
<a name="l00186"></a>00186 
<a name="l00187"></a>00187     <a class="code" href="classFormPreferencias.html#53679befa04c45f9245bb3dcebbef276">pagesWidget</a>-&gt;setCurrentIndex(<a class="code" href="classFormPreferencias.html#87fe9940d9a88cee05ba4cce32660430">contentsWidget</a>-&gt;row(current));
<a name="l00188"></a>00188 }
<a name="l00189"></a>00189 
<a name="l00190"></a>00190 
<a name="l00194"></a><a class="code" href="classFormPreferencias.html#93baeeec2fa133c19f233cda377a8f11">00194</a> <span class="keywordtype">void</span> <a class="code" href="classFormPreferencias.html#93baeeec2fa133c19f233cda377a8f11">FormPreferencias::cancelar</a>()
<a name="l00195"></a>00195 {
<a name="l00196"></a>00196  <span class="comment">/*</span>
<a name="l00197"></a>00197 <span class="comment"> bool _no_guardo = false;</span>
<a name="l00198"></a>00198 <span class="comment"> for( int i=0; i&lt; this-&gt;count(); i++ )</span>
<a name="l00199"></a>00199 <span class="comment"> {</span>
<a name="l00200"></a>00200 <span class="comment">  _no_guardo = qobject_cast&lt;FormPrefHijo *&gt;(this-&gt;widget(i))-&gt;tieneQueGuardar();</span>
<a name="l00201"></a>00201 <span class="comment"> }</span>
<a name="l00202"></a>00202 <span class="comment"> */</span>
<a name="l00203"></a>00203  close();
<a name="l00204"></a>00204 }
<a name="l00205"></a>00205 
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>Generado el Wed Oct 8 11:51:03 2008 para gestotux por&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.5 </small></address>
</body>
</html>
