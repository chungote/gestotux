CREATE TABLE IF NOT EXISTS `factura` ( `id_factura` bigint(20) NOT NULL AUTO_INCREMENT, `id_cliente` bigint(20) NOT NULL, `fecha` datetime NOT NULL, `id_forma_pago` int(1) NOT NULL, `serie` bigint(20) NOT NULL, `numero` bigint(20) NOT NULL, PRIMARY KEY (`id_factura`), UNIQUE KEY `factura-serie-numero` (`serie`,`numero`) ) ENGINE=InnoDB  DEFAULT CHARSET=utf8 COLLATE=utf8_spanish_ci;
CREATE TABLE IF NOT EXISTS `item_factura` ( `id_item_factura` bigint NOT NULL, `id_factura` bigint REFERENCES factura(id_factura), `cantidad` double NOT NULL, `texto` text NOT NULL, `precio_unitario` double NOT NULL, `id_producto` bigint NULL, PRIMARY KEY (`id_item_factura`, `id_factura` ) ) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_spanish_ci;